---
title: "Anne Frank Netzwerk"
author: "Julia Gehringer, Sandra Belschner, Kai Roos, Theresa Stumpf, Luisa Scheurer, Celine Bischoff"
date: "2 3 2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

#Pakete installieren
```{r Pakete installieren}
library(igraph) #Um die Netzwerke darzustellen
library(igraphdata) #Um Daten auslesen zu können
library(knitr) 
library(rmarkdown) 
```

#Einlesen der Edge- und Nodelist aus dem Github Verzeichnis 
```{r Edge- und Nodelist einfügen}
edges <- read.csv("https://raw.githubusercontent.com/AnneFrank2020/Anne_Frank_Netzwerk/master/Abgabe/edgelist.csv", header=T, as.is=T)

nodes <- read.csv("https://raw.githubusercontent.com/AnneFrank2020/Anne_Frank_Netzwerk/master/Abgabe/nodelist.csv", header=T, as.is=T)
```

#Wandelt die Edgeliste als Matrix um 
```{r Matrix erstellen}
edgematrix <-as.matrix(edges)
```

#Erstellt ein Igraph-objekt aus der Fusion von Edge- und Nodelist
```{r iGraph-Objekt erstellen}
af <- graph_from_data_frame(d=edgematrix, vertices=nodes, directed=FALSE)
af
```
#Edge- und Node Atribute anzeigen 
Kann durch {r results='hide'} ausgeblendet werden
```{r}
list.vertex.attributes(af)
list.edge.attributes(af)
```

#Netzwerk visualisieren
```{r Plot erstellen}
plot (af)
```

##Kantenstärken anzeigen
```{r}
E(af)$weight 
plot(af, edge.width=E(af)$weight)
```

##Farben und Visualisierung
```{r Farben und Visualisierung}
plot (af, edge.color="black")
```

#Gesamtnetzwerk erstellen
```{r Zeigt alle existierenden Verbindungen}

```

#Ego-Netzwerk von Anne Frank erstellen
##Wert mit den höchsten Verbindungen (degrees) anzeigen
```{r}
V(af)$egos <- ego_size(af)
vertex.attributes(af)$egos
which.max(vertex.attributes(af)$egos)
```

##Ego-Netzwerk erstellen
###Selektiert nach dem Akteur, der die meisten Verbindungen hat (Anne Frank)
```{r}
af <- make_ego_graph(s, order = 1, nodes = V (af)$name ==Anne, mode="all") ego1
plot(ego1 [[1]], main="Ego-Netzwerk von Knoten Anne")
```

#Teilnetzwerke erstellen

##7 = vor Annes Geburt (1929 und früher)
###Alle edge Atribute mit time definition 7 anzeigen
```{r}
list.edge.attributes(af)
edge.attributes(af)$timedefinition
timedefinition <- subgraph.edges(af, E(af)[timedefinition=="7"])
timedefinition
```

###Netzwerk mit allen Akteuren der time definition 7 anzeigen
```{r}
plot(timedefinition, main="Jahr 1929 und früher")
```

##1 = Frankfurt (Geburt Juni 1929 - Februar 1934)
```{}
```

##2 = Amsterdam - Umzug ins Hinterhaus (XX 1934-1942 XX) 
```{r}

```

##3 = Hinterhaus Teil 1 (1942 XX - 31. Dezember) 
```{r}

```

##4 = Hinterhaus Teil 2 (1943 Janaur - Dezember)
```{r}

```

##5 = Hinterhaus Teil 3 (1944 Janaur - XX Aufgeflogen)
```{r}

```

##6 = Nach dem Krieg (Januar 1946) - Örtliches Netzwerk
```{r}

```

##Helfernetzwerk
```{r}
list.edge.attributes(af)
edge.attributes(af)$relationship
relationship <- subgraph.edges(af, E(af)[relationship=="4"])
relationship
```
###Netzwerk mit allen Akteuren der relationship 4 anzeigen
```{r}
plot(relationship, main="Helfer der Hinterhausbewohner")
```

##Bewohnernetzwerk
```{r}

```

##Mögliche Verräter?
```{r}

```




